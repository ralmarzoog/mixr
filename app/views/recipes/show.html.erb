<% provide(:title, @recipe.title) %>
<p id="notice"><%= notice %></p>

<p>
  <strong>Title:</strong>
  <%= @recipe.title %>
</p>

<ul>
<%= @recipe.recipe_ingredients.each do |r_ingr| %>
  <li>
    <%= r_ingr.quantity %>
    <%= r_ingr.ingredient.name %>
    <% if r_ingr.modifications.count > 0 %>
      <span class= "mods">
        <i class="fa fa-comment mod-toggle"></i>
        <span class="suggestions">
          <ul>
            <% r_ingr.modifications.each do |mod| %>
              <li>
                <%= mod.suggestion %>
              </li>
            <% end %>
          </ul>
        </span>
      </span>
    <% end %>
  </li>  
<% end %>

<ol>
  <%= @recipe.steps.each do |step| %>
    <li>
      <%= step.instruction %>
      <% if step.modifications.count > 0 %>
        <span class="mods">
          <i class="fa fa-comment mod-toggle"></i>
          <span class="suggestions">
            <ul>
              <% step.modifications.each do |mod| %>
                <li>
                  <%= mod.suggestion %>
                </li>
              <% end %>
            </ul>
          </span>
        </span>
      <% end %>
    </li>
  <% end %>
</ol>

<%= link_to 'Edit', edit_recipe_path(@recipe) %> |
<%= link_to 'Back', recipes_path %>
