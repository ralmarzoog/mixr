<% provide(:title, @recipe.title) %>
<p id="notice"><%= notice %></p>

<p>
  <strong>Title:</strong>
  <%= @recipe.title %>
</p>
<div class="ratebox" data-id=<%= @recipe.id %> id=<%= @recipe.id %> data-rating=<% @recipe.rating %> mtype="recipe"></div>
<%= image_tag @recipe.image.url if @recipe.image? %>

<ul>
  <% @recipe.recipe_ingredients.each do |r_ingr| %>
    <li>
      <%= r_ingr.quantity %>
      <%= r_ingr.ingredient.name if r_ingr and r_ingr.ingredient %>
      <%= render partial: "modifications", locals: { modifications: r_ingr.modifications, orig_id: r_ingr.id } %>
    </li>  
  <% end %>
</ul>

<ol>
  <% @recipe.steps.each do |step| %>
    <li>
      <%= step.instruction %>
      <%= render partial: "modifications", locals: { modifications: step.modifications, orig_id: step.id } %>
    </li>
  <% end %>
</ol>

<%= link_to 'Edit', edit_recipe_path(@recipe) %> |
<%= link_to 'Back', recipes_path %>

<% if @recently_viewed != nil and !@recently_viewed.empty? %> 
  <h5>You recently viewed:</h5>
  <% @recently_viewed.each do |viewed| %>
    <p><%= viewed.title %></p>
  <% end %>
<% end %>


